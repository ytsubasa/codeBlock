
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <!-- Ace エディタのメインスクリプト -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"></script>
    <!-- 検索機能のための拡張機能スクリプト -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ext-searchbox.js"></script>
    <!-- エディタのスタイル定義 -->
    <style>
        #editor { 
            height: 500px; 
            width: 100%; 
        }
        
        /* 追加したコピーボタンのスタイル */
        #copyButton {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 10px 20px;
            border: none;
            background-color: #1c2022;
            color: white;
            border-radius: 15px;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <!-- 言語選択のドロップダウンメニュー -->
    <select id="languageSelector">
        <option value="swift">Swift</option>
        <option value="javascript">JavaScript</option>
        <option value="html">HTML</option>
        <option value="bash">Bash</option>
        <option value="css">CSS</option>
        <option value="json">JSON</option>
        <option value="python">Python</option>
        <option value="sh">Shell</option>
        <!-- 他の言語オプションを追加 -->
    </select>

    <!-- エディタとして使用するコンテナ -->
    <div id="editor">func sayHello() { print("Hello, World!") }</div>

    <!-- コピー機能を呼び出すボタン -->
    <button id="copyButton" onclick="copyToClipboard()">コピー</button>
    <script>
        // Ace エディタのインスタンスを作成し、初期化する
        var editor = ace.edit("editor");
        editor.setTheme("ace/theme/monokai");  // エディタのテーマを設定
        editor.session.setMode("ace/mode/swift");  // 初期のエディタのモード（言語）を設定

        // ドロップダウンメニューの選択変更イベントを処理する
        document.getElementById('languageSelector').addEventListener('change', function() {
            editor.session.setMode("ace/mode/" + this.value);  // エディタのモードを変更
        });

        // 検索機能を有効化
        ace.require("ace/ext/searchbox");

        // コピー機能
        function copyToClipboard() {
            var text = editor.getSelectedText() || editor.getValue();
            navigator.clipboard.writeText(text).then(function() {
                console.log('コピーに成功しました！');
            }, function(err) {
                console.error('コピーに失敗しました：', err);
            });
        }
    </script>

</body>
</html>
